<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Quiz In-Game</title>
</head>
    <!-- 예: SockJS, stomp.js가 필요하다면 추가 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.4.0/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
    <script defer src="/script/quiz.js"></script>
    <!-- quiz.js 등 스크립트 연결 예정 -->
    <link rel="stylesheet" href="/css/game.css">
    <link rel="stylesheet" href="/css/quiz.css">
</head>
<body>

<!-- 상단 영역 -->
<header>
    <h1>Quiz Game Room</h1>
    <div style="float: right; text-align: right;">
        <div style="display: flex; align-items: center; gap: 1rem; justify-content: flex-end;">
            <span style="font-weight: bold;">User Info:</span>
            <span>UserID: <span th:text="${responseQuiz.userId}"></span></span>
            <span>Email: <span th:text="${responseQuiz.email}"></span></span>
        </div>
    </div>
</header>

<hr style="clear: both;" />

<!-- 게임 상태 영역 -->
<section>
    <h2>Game Status</h2>
    <!-- 제한 시간 (기본 30초, JS에서 카운트다운 예정) -->
    <div id="toast-container" style="position: fixed; top: 10px; right: 10px; z-index: 1000;"></div>
    <p>
        TimeLeft: <span id="timeLeft">30</span> seconds
    </p>
    <!-- RemainQuiz: responseQuiz.quizCount를 기본값으로 표시 -->
    <p>
        RemainQuiz: <span id="remainQuiz" th:text="${responseQuiz.quizCount}"></span>
        <!-- Admin만 보이는 CreateQuiz 버튼 -->
        <button id="createQuizBtn"
                th:if="${responseQuiz.role() == T(com.example.quiz.enums.Role).ADMIN}">
            Create Quiz
        </button>
    </p>
</section>

<!-- 문제 영역 -->
<section>
    <h2>Problem</h2>
    <!-- 아직 문제를 어떻게 가져오는지 정해지지 않았으므로, JS에서 세팅 -->
    <p id="problem">문제 내용이 표시될 영역</p>
    <!-- 사용자 정답 입력 폼 -->
    <div>
        <input type="text" id="answerInput" placeholder="Write your answer here" />
        <button id="answerBtn">Submit</button>
    </div>
</section>

<!-- 현재 정답자 -->
<section>
    <h2>Current Winner</h2>
    <!-- 정답자 표시 -->
    <p>Winner: <span id="winner">아직 없음</span></p>
</section>

<!-- 최종 우승자 -->
<section>
    <h2>Final Winner</h2>
    <p>Final Winner: <span id="finalWinner">???</span></p>
    <!-- 동점자가 있으면 JS 로직에서 여러 명을 표시하도록 확장 가능 -->
</section>

<!-- 디버깅용(선택 사항)
<p>quizId: <span th:text="${responseQuiz.quizId}"></span></p> -->
</body>
</html>